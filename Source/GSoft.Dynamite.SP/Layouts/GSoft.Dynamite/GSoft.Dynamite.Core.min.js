function Exception(n){this.message=n}if(moment.locale("fr",{longDateFormat:{L:"YYYY-MM-DD"}}),moment.locale("en",{longDateFormat:{L:"DD/MM/YYYY"}}),!window.console)var console={log:function(){},warn:function(){},error:function(){},time:function(){},timeEnd:function(){}};window.GSoft=window.GSoft||{};window.GSoft.Dynamite=window.GSoft.Dynamite||{},function(n){n.initialize=function(){}}(GSoft.Dynamite.Core=GSoft.Dynamite.Core||{},jq111),function(n,t){function i(f,e,o){if(!t.isArray(f)||f.length===0||!t.isArray(e)||e.length===0)throw new Exception("Only call ensureResourceThenExecute with a non-empty array. E.g. ['GSoft.Dynamite', 'GSoft.Dynamite.News']");if(e.length>0){var s=e[0],h=_.tail(e);n[s]||(n[s]="fetching",t.getScript(u(s)).done(function(){n[s]=window.Res}).fail(function(){console.log("Failed to load resource file for module: "+s)}));h.length>0?i(f,h,o):r(f,o)}}function r(t,i){setTimeout(function(){var u=_.all(t,function(t){return n[t]&&n[t]!=="fetching"});u?i():r(t,i)},100)}function u(n){return GSoft.Dynamite.Utilities.CurrentWebUrl+GSoft.Dynamite.Utilities.LayoutFolder()+"scriptresx.ashx?culture="+f()+"&name="+n}function f(){return _spPageContextInfo&&_spPageContextInfo.currentLanguage===1033?"en-US":_spPageContextInfo&&_spPageContextInfo.currentLanguage===1036?"fr-FR":"en-US"}return n.ensureResourceThenExecute=function(n,t){i(n,n,t)},n}(GSoft.Dynamite.Resource=GSoft.Dynamite.Resource||{},jq111),function(n,t){n.load=function(){for(var r,n=[],i=0;i<arguments.length;i++)r=arguments[i],n.push(t.get(r));return n.length>0?t.when.apply(t,n):t.when()}}(GSoft.Dynamite.FileLoader=GSoft.Dynamite.FileLoader||{},jq111),function(n,t){return n.viewModelInstance=null,n.initialize=function(i){t(document).ready(function(){n.viewModelInstance===null&&t("#metadata-panel").length===1&&(n.viewModelInstance=new n.MetadataPanelViewModel(i),ko.applyBindings(n.viewModelInstance,t("#metadata-panel")[0]))})},n.MetadataPanelViewModel=function(n){var t=this;t.tabs=ko.observableArray(n);t.findTab=function(n){return _.find(t.tabs(),function(t){return t.id()===n})};t.toggleTab=function(n){n.isSelected()?n.isSelected(!1):(_.each(t.tabs(),function(n){n.isSelected(!1)}),n.isSelected(!0))};t.lastSelectedTab=null;t.toggleAllTabs=function(){var n=_.find(t.tabs(),function(n){return n.isSelected()});n?(t.lastSelectedTab=n,n.isSelected(!1),_.each(t.tabs(),function(n){n.isSelected(!1)})):t.lastSelectedTab?t.lastSelectedTab.isSelected(!0):t.tabs()[0].isSelected(!0)}},n.Tab=function(n,t,i){var r=this;r.id=ko.observable(n);r.resourceString=ko.observable(t);r.isSelected=ko.observable(i)},n}(GSoft.Dynamite.MetadataPanel=GSoft.Dynamite.MetadataPanel||{},jq111),function(n,t,i){function r(){GSoft.Dynamite.Resource.ensureResourceThenExecute(["GSoft.Dynamite"],function(){var i=t('<div class="parent-folder-link"><a title="'+GSoft.Dynamite.Resource["GSoft.Dynamite"].siteAction_OpenParentFolder+'" href="'+n.ParentFolderUrl+'"><img /><\/a><\/div>'),r=i.find("img");r.attr("src",n.LayoutFolder()+"GSoft.Dynamite/Img/icon_open_parent.png");t(".ms-siteactionscontainer .s4-breadcrumb-anchor").after(i)})}n.CurrentWebUrl=null;n.ParentFolderUrl="#";n.initialize=function(){};n.ExtractTaxonomyInfo=function(n){if(n){for(var t=[],r=/L0\|#0([a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12})\|([\d \w \s áàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ']*);/gi;(match=r.exec(n))!==null;)t.push({id:match[1],label:match[2]});return t}return{id:i,label:i}};n.LayoutFolder=function(){return _spPageContextInfo&&_spPageContextInfo.webUIVersion===15?"/_layouts/15/":"/_layouts/"};n.shortenAndEllipsis=function(n,t){return n!==null&&n.length>t&&(n=n.substring(0,t),n=n.substring(0,n.lastIndexOf(" "))+"..."),n};n.QueryObject=function(){for(var t={},i=location.search.slice(1),r=/([^&=]+)=([^&]*)/g,n;n=r.exec(i);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t};n.initializeParentFolderLink=function(){n.ParentFolderUrl.length>1&&ExecuteOrDelayUntilScriptLoaded(r,"sp.js")};n.GetAbsoluteImagePath=function(n,t){var r=n.match(/src=\"(.+?)\"/i),i=r.length>1?r[1]:null;return i&&i.startsWith("/")?t+i:""};n.ToggleElement=function(n,i){t(document).ready(function(){t(n).click(function(){var n=t(this).next();n.is(":hidden")?(t(this).addClass(i),n.show("slow")):(t(this).removeClass(i),n.slideUp())})})}}(GSoft.Dynamite.Utilities=GSoft.Dynamite.Utilities||{},jq111),function(n){n.ensureAbsoluteImageUrl=function(n,t){var r=t,i,u,f;return n===null||r.isNull||r.isEmpty||(i=n.match(/src=\"(.+?)\"/i),u=i.length>1?i[1]:null,u.startsWith("/")&&(f=r.value,n=n.replace(i[1],f+u))),n}}(GSoft.Dynamite.DisplayTemplateHelper=GSoft.Dynamite.DisplayTemplateHelper||{},jq111),function(n){n.FacebookAsyncInitialize=function(n){window.fbAsyncInit=function(){FB.init({appId:n,xfbml:!0,version:"v2.1"})},function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_US/sdk.js",u.parentNode.insertBefore(r,u))}(document,"script","facebook-jssdk")};n.TriggerShareEventOnElement=function(n,t){document.getElementById(n).onclick=function(){var n="https://www.facebook.com/sharer/sharer.php?sdk=joey&u="+encodeURIComponent(t)+"&display=popup&ref=plugin&src=share_button";window.open(n,"sharer","toolbar=0,status=0,width=548,height=325")}}}(GSoft.Dynamite.FacebookHelper=GSoft.Dynamite.FacebookHelper||{},jq111);
/*
//# sourceMappingURL=GSoft.Dynamite.Core.min.js.map
*/